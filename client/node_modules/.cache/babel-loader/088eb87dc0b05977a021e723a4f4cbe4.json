{"ast":null,"code":"var _jsxFileName = \"/Users/andres/Documents/dietsii/client/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport Form from '../components/Form/Form';\nimport InputField from '../components/InputField/InputField';\nimport { UsersContext } from '../contexts/Users';\nimport { FiUser, FiLock } from 'react-icons/fi';\nimport { Redirect, Link } from 'react-router-dom';\nimport SweetAlert from 'sweetalert-react';\nimport 'sweetalert/dist/sweetalert.css';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      alert: {\n        showAlert: false,\n        title: '',\n        text: ''\n      }\n    };\n\n    this.handleFormSubmit = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const {\n        title,\n        text\n      } = await this.context.logUserIn(username, password);\n      this.setState({\n        alert: {\n          showAlert: true,\n          title,\n          text\n        }\n      });\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    document.querySelector('#root').style.display = 'flex';\n    document.querySelector('#root').style.justifyContent = 'center';\n    document.body.style.background = 'linear-gradient(180deg, #cd71ed 0%, #08c290 100%) no-repeat';\n  }\n\n  componentWillUnmount() {\n    document.querySelector('#root').style.display = 'block';\n    document.body.style.background = '#fff';\n  }\n\n  render() {\n    if (this.context.isLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }, this);\n    }\n\n    const {\n      showAlert,\n      title,\n      text\n    } = this.state.alert;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(SweetAlert, {\n        show: showAlert,\n        title: title,\n        text: text,\n        onConfirm: () => this.setState({\n          alert: {\n            showAlert: false\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar__icon\",\n          children: /*#__PURE__*/_jsxDEV(FiUser, {\n            className: \"avatar__icon__svg\",\n            strokeWidth: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        handleFormSubmit: this.handleFormSubmit,\n        buttonText: \"Login\",\n        children: [/*#__PURE__*/_jsxDEV(InputField, {\n          type: \"text\",\n          placeholder: \"Username\",\n          icon: FiUser,\n          name: \"username\",\n          value: this.state.username,\n          handleInputChange: this.handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          type: \"password\",\n          placeholder: \"Password\",\n          icon: FiLock,\n          name: \"password\",\n          value: this.state.password,\n          handleInputChange: this.handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        className: \"register_link\",\n        children: \"Create an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.contextType = UsersContext;\nexport default Login;","map":{"version":3,"sources":["/Users/andres/Documents/dietsii/client/src/pages/Login.jsx"],"names":["React","Component","Form","InputField","UsersContext","FiUser","FiLock","Redirect","Link","SweetAlert","Login","state","username","password","alert","showAlert","title","text","handleFormSubmit","event","preventDefault","context","logUserIn","setState","handleInputChange","target","name","value","componentDidMount","document","querySelector","style","display","justifyContent","body","background","componentWillUnmount","render","isLoggedIn","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Form from '../components/Form/Form';\nimport InputField from '../components/InputField/InputField';\nimport { UsersContext } from '../contexts/Users';\nimport { FiUser, FiLock } from 'react-icons/fi';\nimport { Redirect, Link } from 'react-router-dom';\nimport SweetAlert from 'sweetalert-react';\nimport 'sweetalert/dist/sweetalert.css';\nimport './Login.css';\n\nclass Login extends Component {\n  static contextType = UsersContext;\n  state = {\n    username: '',\n    password: '',\n    alert: {\n      showAlert: false,\n      title: '',\n      text: '',\n    },\n  };\n\n  handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n\n    const { title, text } = await this.context.logUserIn(username, password);\n\n    this.setState({\n      alert: {\n        showAlert: true,\n        title,\n        text,\n      },\n    });\n  };\n\n  handleInputChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  componentDidMount() {\n    document.querySelector('#root').style.display = 'flex';\n    document.querySelector('#root').style.justifyContent = 'center';\n    document.body.style.background =\n      'linear-gradient(180deg, #cd71ed 0%, #08c290 100%) no-repeat';\n  }\n\n  componentWillUnmount() {\n    document.querySelector('#root').style.display = 'block';\n    document.body.style.background = '#fff';\n  }\n\n  render() {\n    if (this.context.isLoggedIn) {\n      return <Redirect to=\"/\" />;\n    }\n\n    const { showAlert, title, text } = this.state.alert;\n\n    return (\n      <div className=\"login\">\n        <SweetAlert\n          show={showAlert}\n          title={title}\n          text={text}\n          onConfirm={() => this.setState({ alert: { showAlert: false } })}\n        />\n        <div className=\"avatar\">\n          <div className=\"avatar__icon\">\n            <FiUser className=\"avatar__icon__svg\" strokeWidth=\"1\" />\n          </div>\n        </div>\n        <Form handleFormSubmit={this.handleFormSubmit} buttonText=\"Login\">\n          <InputField\n            type=\"text\"\n            placeholder=\"Username\"\n            icon={FiUser}\n            name=\"username\"\n            value={this.state.username}\n            handleInputChange={this.handleInputChange}\n            required={true}\n          />\n          <InputField\n            type=\"password\"\n            placeholder=\"Password\"\n            icon={FiLock}\n            name=\"password\"\n            value={this.state.password}\n            handleInputChange={this.handleInputChange}\n            required={true}\n          />\n        </Form>\n        <Link to=\"/register\" className=\"register_link\">\n          Create an account\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}